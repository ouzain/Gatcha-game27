import{a as u}from"./chunk-PTW3EDK3.js";import"./chunk-AUALO7ST.js";import{$ as d,A as c,B as C,E as v,I as m,K as l,N as o,O as i,P as g,Q as L,R as w,S as I,T as p,_ as s,g as M,ga as H,h as S,ha as T,j as k,k as P,ka as _,oa as $,pa as B,qa as D,sa as b,t as h,ta as x,ua as R,v as O,va as F,w as E,wa as j}from"./chunk-SP6T3Q2V.js";function U(e,a){e&1&&(o(0,"li")(1,"a",8),p(2,"Profile"),i()())}function W(e,a){e&1&&(o(0,"li")(1,"a",9),p(2,"Monstres"),i()())}function X(e,a){e&1&&(o(0,"li")(1,"a",10),p(2,"Invocation"),i()())}function Y(e,a){e&1&&(o(0,"li")(1,"a",11),p(2,"Combats"),i()())}function Z(e,a){e&1&&(o(0,"li")(1,"a",12),p(2,"Se connecter"),i()())}function q(e,a){e&1&&(o(0,"li")(1,"a",13),p(2,"S'inscrire"),i()())}function ee(e,a){if(e&1){let t=L();o(0,"li")(1,"a",14),w("click",function(r){O(t);let y=I();return E(y.logout(r))}),p(2,"Deconnexion"),i()()}}var V=(()=>{class e{constructor(t){this.authService=t,this.isAuthenticated$=this.authService.isAuthenticated$}logout(t){t.preventDefault(),this.authService.logout()}static{this.\u0275fac=function(n){return new(n||e)(C(u))}}static{this.\u0275cmp=v({type:e,selectors:[["app-header"]],decls:22,vars:21,consts:[[1,"header"],[1,"container"],[1,"header-content"],[1,"logo"],["routerLink","/"],[1,"nav"],[1,"nav-list"],[4,"ngIf"],["routerLink","/profile","routerLinkActive","active"],["routerLink","/monsters","routerLinkActive","active"],["routerLink","/summon","routerLinkActive","active"],["routerLink","/battles","routerLinkActive","active"],["routerLink","/login","routerLinkActive","active"],["routerLink","/register","routerLinkActive","active"],["href","#",3,"click"]],template:function(n,r){n&1&&(o(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),p(5,"Gacha Game"),i()(),o(6,"nav",5)(7,"ul",6),m(8,U,3,0,"li",7),s(9,"async"),m(10,W,3,0,"li",7),s(11,"async"),m(12,X,3,0,"li",7),s(13,"async"),m(14,Y,3,0,"li",7),s(15,"async"),m(16,Z,3,0,"li",7),s(17,"async"),m(18,q,3,0,"li",7),s(19,"async"),m(20,ee,3,0,"li",7),s(21,"async"),i()()()()()),n&2&&(c(8),l("ngIf",d(9,7,r.isAuthenticated$)),c(2),l("ngIf",d(11,9,r.isAuthenticated$)),c(2),l("ngIf",d(13,11,r.isAuthenticated$)),c(2),l("ngIf",d(15,13,r.isAuthenticated$)),c(2),l("ngIf",!d(17,15,r.isAuthenticated$)),c(2),l("ngIf",!d(19,17,r.isAuthenticated$)),c(2),l("ngIf",d(21,19,r.isAuthenticated$)))},dependencies:[_,H,T,R,F],styles:[".header[_ngcontent-%COMP%]{background-color:var(--surface-color);padding:15px 0;box-shadow:0 2px 4px #0000001a}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);font-size:24px;font-weight:700;text-decoration:none}.nav-list[_ngcontent-%COMP%]{display:flex;list-style:none;gap:20px}.nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-color);text-decoration:none;font-weight:500;transition:color .3s}.nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .nav-list[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:var(--primary-color)}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.nav-list[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}}"]})}}return e})();var z=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=v({type:e,selectors:[["app-footer"]],decls:4,vars:0,consts:[[1,"footer"],[1,"container"]],template:function(n,r){n&1&&(o(0,"footer",0)(1,"div",1)(2,"p"),p(3,"\xA9 2025 Gacha Game. Tous droits r\xE9serv\xE9s."),i()()())},styles:[".footer[_ngcontent-%COMP%]{background-color:var(--surface-color);padding:20px 0;text-align:center;margin-top:auto}"]})}}return e})();var N=(()=>{class e{constructor(t){this.authService=t}static{this.\u0275fac=function(n){return new(n||e)(C(u))}}static{this.\u0275cmp=v({type:e,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"app-container"],[1,"container"]],template:function(n,r){n&1&&(o(0,"div",0),g(1,"app-header"),o(2,"main",1),g(3,"router-outlet"),i(),g(4,"app-footer"),i())},dependencies:[_,b,V,z],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}main[_ngcontent-%COMP%]{flex:1;padding:20px 0}"]})}}return e})();var f=()=>{let e=h(u),a=h(x);return e.isAuthenticated$.pipe(P(1),S(t=>t?!0:(a.navigate(["/login"]),!1)))};var J=[{path:"",loadComponent:()=>import("./chunk-3RFU2PSC.js").then(e=>e.HomeComponent)},{path:"login",loadComponent:()=>import("./chunk-63RSOOHI.js").then(e=>e.LoginComponent)},{path:"register",loadComponent:()=>import("./chunk-LKORVC2L.js").then(e=>e.RegisterComponent)},{path:"profile",loadComponent:()=>import("./chunk-BDXE42XF.js").then(e=>e.ProfileComponent),canActivate:[f]},{path:"monsters",loadComponent:()=>import("./chunk-L323QEP5.js").then(e=>e.MonstersComponent),canActivate:[f]},{path:"monsters/:id",loadComponent:()=>import("./chunk-LFQS45PM.js").then(e=>e.MonsterDetailComponent),canActivate:[f]},{path:"summon",loadComponent:()=>import("./chunk-ZGDLIXBZ.js").then(e=>e.SummonComponent),canActivate:[f]},{path:"battles",loadComponent:()=>import("./chunk-FUME2PIJ.js").then(e=>e.BattlesComponent),canActivate:[f]},{path:"battles/:id",loadComponent:()=>import("./chunk-H5OQXOI2.js").then(e=>e.BattleDetailComponent),canActivate:[f]},{path:"**",loadComponent:()=>import("./chunk-CTMZZ4VB.js").then(e=>e.NotFoundComponent)}];var K=(e,a)=>{let t=h(u),n=h(x),r=t.getToken();if(r){let y=e.clone({headers:e.headers.set("Authorization",`Bearer ${r}`)});return a(y).pipe(k(A=>(A.status===401&&(t.logout(),n.navigate(["/login"])),M(()=>A))))}return a(e)};D(N,{providers:[j(J),$(B([K]))]}).catch(e=>console.error(e));
