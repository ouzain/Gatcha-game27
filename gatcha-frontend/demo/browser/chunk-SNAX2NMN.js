import{a as l}from"./chunk-PTW3EDK3.js";import{a as r}from"./chunk-AUALO7ST.js";import{h as o,la as n,na as s,p as a,s as p}from"./chunk-SP6T3Q2V.js";var v=(()=>{class i{constructor(t,e){this.http=t,this.authService=e}getProfile(t){return this.http.get(`${r.playerApiUrl}/get-user`,{params:{username:t}}).pipe(o(e=>{if(e.success)return e.data;throw new Error(e.message||"Failed to load player")}))}getMonsterList(){return this.http.get(`${r.playerApiUrl}/player/monsters`)}getLevel(){return this.http.get(`${r.playerApiUrl}/player/level`)}gainExperience(t){let e=this.authService.getToken();if(!e)throw new Error("Token d'authentification manquant");let h=new n().set("Authorization",`Bearer ${e}`);return this.http.post(`${r.playerApiUrl}/player/add-exp-user?exp=${t}`,{},{headers:h})}levelUp(){return this.http.post(`${r.playerApiUrl}/player/level-up`,{})}addMonster(t){return this.http.post(`${r.playerApiUrl}/player/monsters`,{monsterId:t})}removeMonster(t){return this.http.delete(`${r.playerApiUrl}/player/monsters/${t}`)}static{this.\u0275fac=function(e){return new(e||i)(p(s),p(l))}}static{this.\u0275prov=a({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{v as a};
